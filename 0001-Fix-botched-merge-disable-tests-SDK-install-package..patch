From ea2d7692f767eb1f941faf97bcd3a037403ccfe8 Mon Sep 17 00:00:00 2001
From: Sean Kelly <Sean.Kelly@ifm.com>
Date: Fri, 14 Feb 2020 13:33:50 -0500
Subject: [PATCH 1/4] Fix botched merge -- disable tests, SDK, install
 package.xml

---
 CMakeLists.txt | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index b2d222a..17b4f08 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -15,7 +15,7 @@ macro_ensure_out_of_source_build(
   "Please build ${PROJECT_NAME} out-of-source")
 
 # Conditionally turn on/off parts of the build (global-level)
-option(BUILD_TESTS "Build unit tests" ON)
+option(BUILD_TESTS "Build unit tests" OFF)
 option(BUILD_MODULE_FRAMEGRABBER "Build the framegrabber module" ON)
 option(BUILD_MODULE_SWUPDATER "Build the swupdater module" ON)
 option(BUILD_MODULE_IMAGE "Build the image module" ON)
@@ -23,7 +23,7 @@ option(BUILD_MODULE_OPENCV "Build the OpenCV-only image container" OFF)
 option(BUILD_MODULE_PCICCLIENT "Build the pcicclient module" OFF)
 option(BUILD_MODULE_TOOLS "Build the tools module" ON)
 option(BUILD_MODULE_PYBIND11 "Build the python bindings module" OFF)
-option(BUILD_SDK_PKG "Build install packages for development purposes" ON)
+option(BUILD_SDK_PKG "Build install packages for development purposes" OFF)
 option(FORCE_OPENCV3 "Force the build to require OpenCV 3" OFF)
 option(FORCE_OPENCV2 "Force the build to require OpenCV 2.4" OFF)
 option(BUILD_SHARED_LIBS "Build modules as shared libraries" ON)
@@ -198,3 +198,8 @@ add_custom_target(repackage
   )
 
 include(CPack)
+
+#################################################
+# Install package.xml for catkin/ROS builds
+#################################################
+install(FILES package.xml DESTINATION share/ifm3d-core)
-- 
2.25.1

